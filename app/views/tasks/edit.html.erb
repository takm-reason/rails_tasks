<%= turbo_frame_tag "modal" do %>
  <div class="modal">
    <div class="modal-content">
      <h2>タスクの編集</h2>

      <%= form_with(model: @task, data: { turbo: true, controller: "form" }) do |f| %>
        <div class="form-group">
          <%= f.label :title, 'タイトル' %>
          <%= f.text_field :title, class: 'form-control', required: true %>
        </div>

        <div class="form-group">
          <%= f.label :description, '説明' %>
          <%= f.text_area :description, class: 'form-control', rows: 3 %>
        </div>

        <div class="form-group">
          <%= f.label :due_date, '期限' %>
          <%= f.datetime_local_field :due_date, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= f.label :priority, '優先度' %>
          <%= f.select :priority, 
            [['低', 0], ['中', 1], ['高', 2]], 
            {}, 
            { class: 'form-control' } 
          %>
        </div>

        <div class="modal-actions">
          <%= f.submit '更新', class: 'btn btn-primary' %>
          <%= link_to 'キャンセル', tasks_path, class: 'btn btn-secondary', 'data-turbo-frame': '_top' %>
        </div>
      <% end %>
    </div>
  </div>
<% end %>